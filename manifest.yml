---
memory: 1G
instances: 1
services:
- movie-fun-sso

applications:
- name: album-service
  path: applications/album-service/build/libs/album-service-1.1.0-SNAPSHOT.jar
  env:
   GRANT_TYPE: client_credentials
   SSO_IDENTITY_PROVIDERS: uaa
   S3_ACCESSKEY: AKIAJ3QQCBJLJ35FT7PA
   S3_BUCKETNAME: cf-af0b3817-b165-4885-ae18-a47d18983cc5
   S3_ENDPOINTURL: http://s3.amazonaws.com
   S3_SECRETKEY: PwTe9YVPbb5y6n0wKTgE/6e2DD3LdYich65uVuYq
   APP_LOGGING_LEVEL: DEBUG
   _JAVA_OPTIONS: -Dlogging.level.org.springframework=DEBUG
  services:
  - album-database
  routes:
   - route: album-service-ae1.apps.cumuluslabs.io

- name: movie-service
  path: applications/movie-service/build/libs/movie-service-1.1.0-SNAPSHOT.jar
  services:
  - movie-database
  env:
   GRANT_TYPE: client_credentials
   SSO_IDENTITY_PROVIDERS: uaa
   APP_LOGGING_LEVEL: DEBUG
   _JAVA_OPTIONS: -Dlogging.level.org.springframework=DEBUG
  routes:
   - route: movie-service-ae1.apps.cumuluslabs.io

- name: movie-fun-app
  path: applications/movie-fun-app/build/libs/movie-fun-app-1.1.0-SNAPSHOT.war
  env:
   ALBUMS_URL: https://album-service-ae1.apps.cumuluslabs.io/albums
   MOVIES_URL: https://movie-service-ae1.apps.cumuluslabs.io/movies
   GRANT_TYPE: authorization_code
   SSO_IDENTITY_PROVIDERS: uaa
   S3_ACCESSKEY: AKIAJ3QQCBJLJ35FT7PA
   S3_BUCKETNAME: cf-af0b3817-b165-4885-ae18-a47d18983cc5
   S3_ENDPOINTURL: http://s3.amazonaws.com
   S3_SECRETKEY: PwTe9YVPbb5y6n0wKTgE/6e2DD3LdYich65uVuYq
   APP_LOGGING_LEVEL: DEBUG
   _JAVA_OPTIONS: -Dlogging.level.org.springframework=DEBUG

  routes:
   - route: moviefun-ae1.apps.cumuluslabs.io